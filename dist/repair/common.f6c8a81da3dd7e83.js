"use strict";(self.webpackChunkavalon_ng=self.webpackChunkavalon_ng||[]).push([[592],{4830:(f,E,s)=>{s.d(E,{u:()=>u});var t=s(9212),g=s(6814),c=s(6925);function m(e,d){if(1&e&&(t.TgZ(0,"div",4),t._UZ(1,"img",5),t.qZA()),2&e){const p=t.oxw();t.xp6(),t.Q6J("src",p.value,t.LSH)("alt",p.title)}}function l(e,d){if(1&e&&(t.TgZ(0,"div",4),t._uU(1),t.qZA()),2&e){const p=t.oxw();t.xp6(),t.hij(" ",p.value," ")}}let v=(()=>{class e{constructor(){this.title="",this.value=""}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=t.Xpm({type:e,selectors:[["generator-detail-attribute"]],inputs:{title:"title",value:"value"},decls:7,vars:5,consts:[["simpleInput",""],[1,"flex-container"],[1,"title"],["class","value",4,"ngIf","ngIfElse"],[1,"value"],["width","100",1,"shadow-4",3,"src","alt"]],template:function(n,y){if(1&n&&(t.TgZ(0,"div",1)(1,"div",2),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,m,2,2,"div",3)(5,l,2,1,"ng-template",null,0,t.W1O),t.qZA()),2&n){const P=t.MAs(6);t.xp6(2),t.hij(" ",t.lcZ(3,3,y.title)," "),t.xp6(2),t.Q6J("ngIf",y.title.toLowerCase().includes("image"))("ngIfElse",P)}},dependencies:[g.O5,c.X$],styles:[".title[_ngcontent-%COMP%]{height:30px;width:100%;align-items:center;justify-content:space-between;padding-top:.625rem;padding-bottom:.625rem;text-align:left;font-weight:500;--tw-text-opacity: 1;color:rgb(17 24 39/var(--tw-text-opacity))}.value[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:1rem}"]})}}return e})();function o(e,d){if(1&e&&(t.TgZ(0,"div",1),t._UZ(1,"generator-detail-attribute",2),t.ALo(2,"translate"),t.qZA()),2&e){const p=d.$implicit,n=t.oxw();t.xp6(),t.Q6J("title",t.lcZ(2,2,n.name+"."+p[0]))("value",p[1])}}let u=(()=>{class e{constructor(){this.name=""}ngOnChanges(p){p.dataRow&&(this.dataRow=Object.entries(p.dataRow.currentValue).filter(y=>""!==y[1]&&"id"!==y[0]))}objectEntries(p){return Object.entries(p)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=t.Xpm({type:e,selectors:[["generator-detail"]],inputs:{name:"name",dataRow:"dataRow"},features:[t.TTD],decls:1,vars:1,consts:[["class","col-12 md:col-6",4,"ngFor","ngForOf"],[1,"col-12","md:col-6"],[1,"detail",3,"title","value"]],template:function(n,y){1&n&&t.YNc(0,o,3,4,"div",0),2&n&&t.Q6J("ngForOf",y.dataRow)},dependencies:[g.sg,v,c.X$]})}}return e})()},6463:(f,E,s)=>{s.d(E,{q:()=>t});class t{constructor(c){this.id=0,this.name="",this.description="",this.email="",this.active=!0,this.imageUrl="",Object.assign(this,c)}}},2022:(f,E,s)=>{s.d(E,{n:()=>t});class t{constructor(c){this.id=0,this.name="",this.status="",this.imageUrl="",Object.assign(this,c)}}},3630:(f,E,s)=>{s.d(E,{G3:()=>l,hd:()=>m});var t=s(7582),g=s(6463),c=s(2022);class m{constructor(u){this.id=0,this.title="",this.price=0,this.oldPrice=0,this.discount=0,this.quantity=0,this.description="",this.sellCount=0,this.condition=l.New,this.brand=new g.q,this.category=new c.n,this.imageUrl="",this.featured=!1,Object.assign(this,u)}}(0,t.gn)([Reflect.metadata("optional",!0),(0,t.w6)("design:type",Number)],m.prototype,"oldPrice",void 0),(0,t.gn)([Reflect.metadata("optional",!0),(0,t.w6)("design:type",Number)],m.prototype,"discount",void 0),(0,t.gn)([Reflect.metadata("optional",!0),(0,t.w6)("design:type",Number)],m.prototype,"sellCount",void 0),(0,t.gn)([Reflect.metadata("optional",!0),(0,t.w6)("design:type",Object)],m.prototype,"condition",void 0);const l={New:{id:1,name:"NEW"},Used:{id:2,name:"USED"},repair:{id:3,name:"REPAIR"}}},3839:(f,E,s)=>{s.d(E,{c:()=>v});var t=s(9862),g=s(6306),c=s(8504),m=s(9947),l=s(9212);let v=(()=>{class o{constructor(e){this.http=e,this.apiHost=m.N.hostUrl,this.apiUrl=`${this.apiHost}brands`,this.uploadHost=m.N.uploadPublicFiles,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})}}getAllBrands(){return this.http.get(this.apiUrl)}getBrandById(e){return this.http.get(`${this.apiUrl}/${e}`)}getBrandByName(e){return this.http.get(`${this.apiUrl}/get?name=${e}`)}addBrand(e){return this.http.post(this.apiUrl,e,this.httpOptions)}uploadImage(e,d){const p=new FormData;return p.append("file",e),this.http.post(`${this.uploadHost}/upload?dir=brands&name=${d}`,p,{responseType:"text"}).pipe((0,g.K)(this.handleError))}updateBrand(e,d){return this.http.put(`${this.apiUrl}/${e}`,d,this.httpOptions)}deleteBrand(e){return this.http.delete(`${this.apiUrl}/${e}`)}handleError(e){return console.error("An error occurred:",e.message),(0,c._)("Something went wrong. Please try again later.")}static{this.\u0275fac=function(d){return new(d||o)(l.LFG(t.eN))}}static{this.\u0275prov=l.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},450:(f,E,s)=>{s.d(E,{H:()=>v});var t=s(9862),g=s(6306),c=s(8504),m=s(9947),l=s(9212);let v=(()=>{class o{constructor(e){this.http=e,this.apiHost=m.N.hostUrl,this.uploadHost=m.N.uploadPublicFiles,this.apiUrl=`${this.apiHost}categories`,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})}}getAllCategories(){return this.http.get(this.apiUrl)}getCategoryById(e){const d=this.http.get(`${this.apiUrl}/${e}`);return d.subscribe(p=>console.log("Service =>",p)),d}getCategoryByName(e){const d=this.http.get(`${this.apiUrl}/get?name=${e}`);return d.subscribe(p=>console.log("Service =>",p)),d}addCategory(e){return this.http.post(this.apiUrl,e,this.httpOptions)}uploadImage(e,d){const p=new FormData;return p.append("file",e),this.http.post(`${this.uploadHost}/upload?dir=categories&name=${d}`,p,{responseType:"text"}).pipe((0,g.K)(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),(0,c._)("Something went wrong. Please try again later.")}updateCategory(e,d){return this.http.put(`${this.apiUrl}/${e}`,d,this.httpOptions)}deleteCategory(e){return this.http.delete(`${this.apiUrl}/${e}`)}static{this.\u0275fac=function(d){return new(d||o)(l.LFG(t.eN))}}static{this.\u0275prov=l.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},7635:(f,E,s)=>{s.d(E,{I:()=>M});var t=s(9862),g=s(8504),c=s(9397),m=s(6306),l=s(9315),v=s(9947);const u={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let e;const d=new Uint8Array(16),n=[];for(let i=0;i<256;++i)n.push((i+256).toString(16).slice(1));const w=function D(i,h,r){if(u.randomUUID&&!h&&!i)return u.randomUUID();const a=(i=i||{}).random??i.rng?.()??function p(){if(!e){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");e=crypto.getRandomValues.bind(crypto)}return e(d)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,h){if((r=r||0)<0||r+16>h.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let U=0;U<16;++U)h[r+U]=a[U];return h}return function y(i,h=0){return(n[i[h+0]]+n[i[h+1]]+n[i[h+2]]+n[i[h+3]]+"-"+n[i[h+4]]+n[i[h+5]]+"-"+n[i[h+6]]+n[i[h+7]]+"-"+n[i[h+8]]+n[i[h+9]]+"-"+n[i[h+10]]+n[i[h+11]]+n[i[h+12]]+n[i[h+13]]+n[i[h+14]]+n[i[h+15]]).toLowerCase()}(a)};var O=s(9212),A=s(9567);let M=(()=>{class i{constructor(r,a){this.http=r,this.toast=a,this.apiHost=v.N.hostUrl,this.apiUrl=`${this.apiHost}files`,this.uploadHost=v.N.uploadPublicFiles,this.MAX_FILE_SIZE=10485760,this.MAX_IMAGE_SIZE=5242880,this.ALLOWED_IMAGE_TYPES=["image/jpeg","image/png"],this.ALLOWED_FILE_TYPES=["image/jpeg","image/png","image/gif","image/bmp","image/svg+xml","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/zip","application/x-rar-compressed"],this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})}}getFoldersWithFiles(r){return this.http.get(`${this.apiUrl}?rootPath=${encodeURIComponent(r)}`)}uploadFile(r,a){if(!r)return this.toast.showError("No file selected for upload."),(0,g._)(()=>new Error("No file selected for upload."));if(!this.isValidFile(r,this.MAX_FILE_SIZE))return(0,g._)(()=>new Error("Invalid file size or type."));const U=r.name;return console.log("Uploading file: ",r),this.uploadFileAPI(r,U,a,v.N.uploadPrivateFiles).pipe((0,c.b)(()=>this.toast.showSuccess("File uploaded successfully!")),(0,m.K)(_=>(this.handleUploadError(_),(0,g._)(()=>_))))}uploadImage(r,a,U){if(!r)return void this.toast.showError("No image selected for upload.");if(console.log("Uploading image..."),console.log("Image: ",r,a),!this.isValidImage(r))return;const _=this.extractFilename(a);a?this.uploadFileAPI(r,_,U,v.N.uploadPublicFiles).subscribe({next:I=>{console.log("Upload success:",I),this.toast.showSuccess("Image was uploaded successfully!")},error:I=>{this.handleUploadError(I)}}):this.toast.showError("Image URL is missing. Unable to proceed with upload.")}uploadImages(r,a){if(!r||0===r.length)return void this.toast.showError("No images selected for upload.");console.log("Uploading images...");const U=r.filter(_=>this.isValidFile(_,this.MAX_IMAGE_SIZE)).map(_=>this.uploadFileAPI(_,_.name,a,v.N.uploadPublicFiles));0!==U.length?(0,l.D)(U).subscribe({next:_=>{console.log("All images uploaded successfully:",_),this.toast.showSuccess("All images were uploaded successfully!")},error:_=>this.handleUploadError(_)}):this.toast.showError("No valid images to upload.")}isValidImage(r){return r.size>5242880?(this.toast.showError("Image size exceeds 5MB. Please upload a smaller image."),!1):!!["image/jpeg","image/png"].includes(r.type)||(this.toast.showError("Invalid file type. Please upload a JPEG or PNG image."),!1)}extractFilename(r){const a=r.split("/");return a[a.length-1]||""}isValidFile(r,a){return r.size>a?(this.toast.showError(`File ${r.name} exceeds the maximum size of ${a/1048576}MB.`),!1):!(r.type&&!this.ALLOWED_FILE_TYPES.includes(r.type)&&(this.toast.showError(`Invalid file type for ${r.name}. Choose good file please.`),1))}uploadFileAPI(r,a,U,_){const I=new FormData;return I.append("file",r),this.http.post(`${_}/upload?dir=${U}&name=${a}`,I,{responseType:"text"}).pipe((0,m.K)(this.handleError))}handleUploadError(r){console.error("File upload failed:",r),this.toast.showError(0===r.status?"Network error. Please check your internet connection.":"Upload failed. Please try again.")}handleError(r){return console.error("An error occurred:",r.message),(0,g._)("Something went wrong. Please try again later.")}generateImageUUID(r){const a=r.name.split(".").pop();return`${w()}.${a}`}static{this.\u0275fac=function(a){return new(a||i)(O.LFG(t.eN),O.LFG(A.k))}}static{this.\u0275prov=O.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})()},7375:(f,E,s)=>{s.d(E,{v:()=>m});var t=s(9862),g=s(9947),c=s(9212);let m=(()=>{class l{constructor(o){this.http=o,this.apiHost=g.N.hostUrl,this.apiUrl=`${this.apiHost}issues`,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})}}getAllIssues(){return this.http.get(this.apiUrl)}getIssueById(o){return this.http.get(`${this.apiUrl}/${o}`)}addIssue(o){return this.http.post(this.apiUrl,o,this.httpOptions)}updateIssue(o,u){return this.http.put(`${this.apiUrl}/${o}`,u,this.httpOptions)}deleteIssue(o){return this.http.delete(`${this.apiUrl}/${o}`)}static{this.\u0275fac=function(u){return new(u||l)(c.LFG(t.eN))}}static{this.\u0275prov=c.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},3601:(f,E,s)=>{s.d(E,{p:()=>m});var t=s(9862),g=s(9947),c=s(9212);let m=(()=>{class l{constructor(o){this.http=o,this.apiHost=g.N.hostUrl,this.apiUrl=`${this.apiHost}saleOrders`,this.statusApi=`${this.apiUrl}/update/payment-status`,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})}}getAllOrders(){return this.http.get(this.apiUrl)}getOrderById(o){return this.http.get(`${this.apiUrl}/${o}`)}updateOrderStatus(o,u){return this.http.put(`${this.statusApi}/${o}`,u,this.httpOptions)}addOrder(o){return this.http.post(this.apiUrl,o,this.httpOptions)}updateOrder(o,u){return this.http.put(`${this.apiUrl}/${o}`,u,this.httpOptions)}deleteOrder(o){return this.http.delete(`${this.apiUrl}/${o}`)}static{this.\u0275fac=function(u){return new(u||l)(c.LFG(t.eN))}}static{this.\u0275prov=c.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},4036:(f,E,s)=>{s.d(E,{z:()=>c});var t=s(6973),g=s(305);function c(m,l){const v="object"==typeof l;return new Promise((o,u)=>{const e=new g.Hp({next:d=>{o(d),e.unsubscribe()},error:u,complete:()=>{v?o(l.defaultValue):u(new t.K)}});m.subscribe(e)})}}}]);