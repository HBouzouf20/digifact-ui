"use strict";(self.webpackChunkavalon_ng=self.webpackChunkavalon_ng||[]).push([[10],{5475:(m,f,e)=>{e.d(f,{S:()=>T});var r=e(5861),t=e(9212),C=e(9731),_=e(5836),u=e(5118),O=e(5219),l=e(132),g=e(9567),y=e(3282);let T=(()=>{class b{changeClient(a){this.unkownClient=a.checked}constructor(a,s,p,c){this.clientService=a,this.messageService=s,this.route=p,this.toast=c,this.isModal=!1,this.unkownClient=!1,this.modelPassager={id:0,fullname:"",phone:""},this.onAdd=new t.vpe,this.clientType=[{state:"Known"},{state:"Unknown"}],this.config=(0,t.f3M)(u.S),this.formData={},this.editMode=!1,this.computed=P=>{},this.model=new C.H,this.services=[{}]}ngOnInit(){this.config.data&&this.config.data.isModal&&(this.isModal=this.config.data.isModal),this.route.snapshot.paramMap.get("formData")&&(this.formData=JSON.parse(this.route.snapshot.paramMap.get("formData")??"{}"),this.editMode=!0),this.config.data&&this.config.data.onAdd&&(this.onAdd=this.config.data.onAdd)}addClient(a){var s=this;return(0,r.Z)(function*(){if(!a)return void s.show("Error","Please provide all required fields for Client !","error");const p={id:s.editMode?a.id:null,fullname:a.fullname,phone:a.phone,email:a.email??"",address:a.address??"",type:s.unkownClient?s.clientType[1].state:s.clientType[0].state};s.editMode?s.clientService.updateClient(a.id,p).subscribe({next:c=>{s.toast.showSuccess("Client was updated successfully!")},error:c=>{console.error(c),s.toast.showError(`Failed to update Client. ${c.error}`)}}):s.clientService.addClient(p).subscribe({next:c=>{s.onAdd.emit(c),s.toast.showSuccess("Client was added successfully!")},error:c=>{console.error(c.error),s.toast.showError(`Failed to add Client. ${c.error.message}`)}})})()}show(a,s,p){this.messageService.add({severity:p,summary:a,detail:s})}generateRandom(){const a=Math.random()*(new Date).getMilliseconds();return Math.floor(a%1e5)}static{this.\u0275fac=function(s){return new(s||b)(t.Y36(_.y),t.Y36(O.ez),t.Y36(l.gz),t.Y36(g.k))}}static{this.\u0275cmp=t.Xpm({type:b,selectors:[["app-add-client"]],inputs:{isModal:"isModal"},outputs:{onAdd:"onAdd"},decls:2,vars:2,consts:[[1,"col-12"],["title","client",3,"sub","model","isModal"]],template:function(s,p){1&s&&(t.TgZ(0,"div",0)(1,"generator-form",1),t.NdJ("sub",function(P){return p.addClient(P)}),t.qZA()()),2&s&&(t.xp6(),t.Q6J("model",p.model)("isModal",p.isModal))},dependencies:[y.x],encapsulation:2})}}return b})()},9731:(m,f,e)=>{e.d(f,{H:()=>t});var r=e(7582);class t{constructor(_){this.id=0,this.fullname="",this.address="",this.phone="",this.email="",Object.assign(this,_)}}(0,r.gn)([Reflect.metadata("optional",!0),(0,r.w6)("design:type",String)],t.prototype,"email",void 0)},5836:(m,f,e)=>{e.d(f,{y:()=>_});var r=e(9862),t=e(9947),C=e(9212);let _=(()=>{class u{constructor(l){this.http=l,this.apiHost=t.N.hostUrl,this.apiUrl=`${this.apiHost}clients`,this.httpOptions={headers:new r.WM({"Content-Type":"application/json"})}}getAllClients(l){return this.http.get(null==l?this.apiUrl:`${this.apiUrl}?type=${l}`)}getClientById(l){return this.http.get(`${this.apiUrl}/${l}`)}addClient(l){return this.http.post(this.apiUrl,l,this.httpOptions)}updateClient(l,g){return this.http.put(`${this.apiUrl}/${l}`,g,this.httpOptions)}deleteClient(l){return this.http.delete(`${this.apiUrl}/${l}`)}static{this.\u0275fac=function(g){return new(g||u)(C.LFG(r.eN))}}static{this.\u0275prov=C.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},6804:(m,f,e)=>{e.d(f,{CO:()=>c,KZ:()=>P});var r=e(6814),t=e(9212),C=e(6223),_=e(4480),u=e(5219),O=e(218);const l=(o,h,n)=>({"p-togglebutton p-button p-component":!0,"p-button-icon-only":o,"p-highlight":h,"p-disabled":n}),g=(o,h)=>({"p-button-icon":!0,"p-button-icon-left":o,"p-button-icon-right":h}),y=o=>({$implicit:o});function T(o,h){if(1&o&&t._UZ(0,"span",4),2&o){const n=t.oxw(2);t.Tol(n.checked?n.onIcon:n.offIcon),t.Q6J("ngClass",t.WLB(4,g,"left"===n.iconPos,"right"===n.iconPos)),t.uIk("data-pc-section","icon")}}function b(o,h){if(1&o&&t.YNc(0,T,1,7,"span",3),2&o){const n=t.oxw();t.Q6J("ngIf",n.onIcon||n.offIcon)}}function D(o,h){1&o&&t.GkF(0)}function a(o,h){if(1&o&&t.YNc(0,D,1,0,"ng-container",5),2&o){const n=t.oxw();t.Q6J("ngTemplateOutlet",n.iconTemplate)("ngTemplateOutletContext",t.VKq(2,y,n.checked))}}function s(o,h){if(1&o&&(t.TgZ(0,"span",6),t._uU(1),t.qZA()),2&o){const n=t.oxw();t.uIk("data-pc-section","label"),t.xp6(),t.Oqu(n.checked?n.hasOnLabel?n.onLabel:"":n.hasOffLabel?n.offLabel:"")}}const p={provide:C.JU,useExisting:(0,t.Gpc)(()=>c),multi:!0};let c=(()=>{class o{cd;onLabel;offLabel;onIcon;offIcon;ariaLabel;ariaLabelledBy;disabled;style;styleClass;inputId;tabindex=0;iconPos="left";autofocus;onChange=new t.vpe;templates;iconTemplate;checked=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(n){this.cd=n}ngAfterContentInit(){this.templates.forEach(n=>{n.getType(),this.iconTemplate=n.template})}toggle(n){if(this.disabled)return n.preventDefault(),void n.stopPropagation();this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:n,checked:this.checked}),this.cd.markForCheck()}onKeyDown(n){switch(n.code){case"Enter":case"Space":this.toggle(n),n.preventDefault()}}onBlur(){this.onModelTouched()}writeValue(n){this.checked=n,this.cd.markForCheck()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.offLabel&&this.offLabel.length>0}static \u0275fac=function(d){return new(d||o)(t.Y36(t.sBO))};static \u0275cmp=t.Xpm({type:o,selectors:[["p-toggleButton"]],contentQueries:function(d,i,E){if(1&d&&t.Suo(E,u.jx,4),2&d){let M;t.iGM(M=t.CRH())&&(i.templates=M)}},hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[t.lbL.HasDecoratorInputTransform,"disabled","disabled",t.VuI],style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:[t.lbL.HasDecoratorInputTransform,"tabindex","tabindex",t.Cb_],iconPos:"iconPos",autofocus:[t.lbL.HasDecoratorInputTransform,"autofocus","autofocus",t.VuI]},outputs:{onChange:"onChange"},features:[t._Bn([p]),t.Xq5],decls:4,vars:17,consts:[["role","switch","pRipple","","pAutoFocus","",3,"click","keydown","ngClass","ngStyle","autofocus"],[3,"class","ngClass"],["class","p-button-label",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-button-label"]],template:function(d,i){1&d&&(t.TgZ(0,"div",0),t.NdJ("click",function(M){return i.toggle(M)})("keydown",function(M){return i.onKeyDown(M)}),t.YNc(1,b,1,1,"span",1)(2,a,1,4)(3,s,2,2,"span",2),t.qZA()),2&d&&(t.Tol(i.styleClass),t.Q6J("ngClass",t.kEZ(13,l,i.onIcon&&i.offIcon&&!i.hasOnLabel&&!i.hasOffLabel,i.checked,i.disabled))("ngStyle",i.style)("autofocus",i.autofocus),t.uIk("tabindex",i.disabled?null:i.tabindex)("aria-checked",i.checked)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("data-pc-name","togglebutton")("data-pc-section","root"),t.xp6(),t.um2(1,i.iconTemplate?2:1),t.xp6(2),t.Q6J("ngIf",i.onLabel||i.offLabel))},dependencies:[r.mk,r.O5,r.tP,r.PC,_.H,O.P],styles:['@layer primeng{.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default;pointer-events:none}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%]{position:relative;z-index:1}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover, .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover{border-right:0 none}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%]{border-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right][_ngcontent-%COMP%]   spinnericon[_ngcontent-%COMP%]{order:1}}'],changeDetection:0})}return o})(),P=(()=>{class o{static \u0275fac=function(d){return new(d||o)};static \u0275mod=t.oAB({type:o});static \u0275inj=t.cJS({imports:[r.ez,_.T,u.m8,O.E,u.m8]})}return o})()}}]);