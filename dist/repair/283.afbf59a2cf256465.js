"use strict";(self.webpackChunkavalon_ng=self.webpackChunkavalon_ng||[]).push([[283],{8283:(Z,C,a)=>{a.r(C),a.d(C,{ProfileCreateModule:()=>c});var p=a(6814),n=a(6223),m=a(4480),f=a(707),d=a(3714),b=a(4611),P=a(3438),M=a(6218),h=a(132),v=a(2333),t=a(9212),y=a(9567),_=a(6925);function T(e,g){1&e&&(t.TgZ(0,"div",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.hij(" ",t.lcZ(2,1,"validator.field.required")," "))}function L(e,g){1&e&&(t.TgZ(0,"div",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.hij(" ",t.lcZ(2,1,"validator.field.required")," "))}function O(e,g){1&e&&(t.TgZ(0,"div",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.hij(" ",t.lcZ(2,1,"validator.field.required")," "))}function I(e,g){1&e&&(t.TgZ(0,"div",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(),t.hij(" ",t.lcZ(2,1,"validator.field.required")," "))}let i=(()=>{class e{constructor(l,r,s,E){this.fb=l,this.authService=r,this.toast=s,this.router=E,this.profiles=[],this.showErrors=!1}ngOnInit(){this.profiles=[{label:"Utilisateur",state:"ROLE_USER"},{label:"Admin",state:"ROLE_ADMIN"}],this.userForm=this.fb.group({username:["",n.kI.required],password:["",n.kI.required],email:["",[n.kI.required,n.kI.email]],role:["",n.kI.required]})}hasError(l,r){const s=this.userForm.get(l);return s?.hasError(r)&&s?.touched||s?.hasError(r)&&this.showErrors}createUser(){this.userForm.valid?this.authService.signup(this.userForm.value).subscribe({next:()=>{this.toast.showSuccess("User was created Successfully !"),this.router.navigate(["/profile"])},error:l=>{this.toast.showError(l.error||"An unexpected error occurred"),console.log(l.error)}}):this.showErrors=!0}static{this.\u0275fac=function(r){return new(r||e)(t.Y36(n.qu),t.Y36(v.e),t.Y36(y.k),t.Y36(h.F0))}}static{this.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:31,vars:8,consts:[[1,"card",3,"formGroup"],[1,"text-900","text-xl","font-bold","mb-4","block"],[1,"grid"],[1,"col-12","lg:col-2"],[1,"text-900","font-medium","text-xl","mb-3"],[1,"col-12","lg:col-10"],[1,"grid","formgrid","p-fluid"],[1,"field","mb-4","col-12"],["for","username",1,"font-medium","text-900"],["id","username","type","text","pInputText","","formControlName","username"],["class","p-error block",4,"ngIf"],["for","password",1,"font-medium","text-900"],["id","password","type","password","pInputText","","formControlName","password"],["for","email",1,"font-medium","text-900"],["id","email","type","email","pInputText","","formControlName","email"],["for","profile",1,"font-medium","text-900"],["formControlName","role",3,"optionLabel","optionValue","options"],[1,"col-12"],["pButton","","pRipple","","label","Create User",1,"w-auto","mt-3",3,"click"],[1,"p-error","block"]],template:function(r,s){1&r&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2,"Create User"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4),t._uU(6,"Profile"),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),t._uU(11,"Username"),t.qZA(),t._UZ(12,"input",9),t.YNc(13,T,3,3,"div",10),t.qZA(),t.TgZ(14,"div",7)(15,"label",11),t._uU(16,"Password"),t.qZA(),t._UZ(17,"input",12),t.YNc(18,L,3,3,"div",10),t.qZA(),t.TgZ(19,"div",7)(20,"label",13),t._uU(21,"E-mail"),t.qZA(),t._UZ(22,"input",14),t.YNc(23,O,3,3,"div",10),t.qZA(),t.TgZ(24,"div",7)(25,"label",15),t._uU(26,"Profile"),t.qZA(),t._UZ(27,"p-dropdown",16),t.YNc(28,I,3,3,"div",10),t.qZA(),t.TgZ(29,"div",17)(30,"button",18),t.NdJ("click",function(){return s.createUser()}),t.qZA()()()()()()),2&r&&(t.Q6J("formGroup",s.userForm),t.xp6(13),t.Q6J("ngIf",s.hasError("username","required")),t.xp6(5),t.Q6J("ngIf",s.hasError("password","required")),t.xp6(5),t.Q6J("ngIf",s.hasError("email","required")),t.xp6(4),t.Q6J("optionLabel","label")("optionValue","state")("options",s.profiles),t.xp6(),t.Q6J("ngIf",s.hasError("profile","required")))},dependencies:[p.O5,n.Fj,n.JJ,n.JL,f.Hq,m.H,d.o,b.Lt,n.sg,n.u,_.X$],encapsulation:2})}}return e})(),u=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=t.oAB({type:e})}static{this.\u0275inj=t.cJS({imports:[h.Bz.forChild([{path:"",component:i}]),h.Bz]})}}return e})();var o=a(6804);let c=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=t.oAB({type:e})}static{this.\u0275inj=t.cJS({imports:[p.ez,n.u5,u,f.hJ,m.T,d.j,b.kW,P.O,M.A,o.KZ,_.aw,n.UX]})}}return e})()},6804:(Z,C,a)=>{a.d(C,{CO:()=>O,KZ:()=>I});var p=a(6814),n=a(9212),m=a(6223),f=a(4480),d=a(5219),b=a(218);const P=(i,u,o)=>({"p-togglebutton p-button p-component":!0,"p-button-icon-only":i,"p-highlight":u,"p-disabled":o}),M=(i,u)=>({"p-button-icon":!0,"p-button-icon-left":i,"p-button-icon-right":u}),h=i=>({$implicit:i});function v(i,u){if(1&i&&n._UZ(0,"span",4),2&i){const o=n.oxw(2);n.Tol(o.checked?o.onIcon:o.offIcon),n.Q6J("ngClass",n.WLB(4,M,"left"===o.iconPos,"right"===o.iconPos)),n.uIk("data-pc-section","icon")}}function t(i,u){if(1&i&&n.YNc(0,v,1,7,"span",3),2&i){const o=n.oxw();n.Q6J("ngIf",o.onIcon||o.offIcon)}}function y(i,u){1&i&&n.GkF(0)}function _(i,u){if(1&i&&n.YNc(0,y,1,0,"ng-container",5),2&i){const o=n.oxw();n.Q6J("ngTemplateOutlet",o.iconTemplate)("ngTemplateOutletContext",n.VKq(2,h,o.checked))}}function T(i,u){if(1&i&&(n.TgZ(0,"span",6),n._uU(1),n.qZA()),2&i){const o=n.oxw();n.uIk("data-pc-section","label"),n.xp6(),n.Oqu(o.checked?o.hasOnLabel?o.onLabel:"":o.hasOffLabel?o.offLabel:"")}}const L={provide:m.JU,useExisting:(0,n.Gpc)(()=>O),multi:!0};let O=(()=>{class i{cd;onLabel;offLabel;onIcon;offIcon;ariaLabel;ariaLabelledBy;disabled;style;styleClass;inputId;tabindex=0;iconPos="left";autofocus;onChange=new n.vpe;templates;iconTemplate;checked=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(o){this.cd=o}ngAfterContentInit(){this.templates.forEach(o=>{o.getType(),this.iconTemplate=o.template})}toggle(o){if(this.disabled)return o.preventDefault(),void o.stopPropagation();this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:o,checked:this.checked}),this.cd.markForCheck()}onKeyDown(o){switch(o.code){case"Enter":case"Space":this.toggle(o),o.preventDefault()}}onBlur(){this.onModelTouched()}writeValue(o){this.checked=o,this.cd.markForCheck()}registerOnChange(o){this.onModelChange=o}registerOnTouched(o){this.onModelTouched=o}setDisabledState(o){this.disabled=o,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.offLabel&&this.offLabel.length>0}static \u0275fac=function(c){return new(c||i)(n.Y36(n.sBO))};static \u0275cmp=n.Xpm({type:i,selectors:[["p-toggleButton"]],contentQueries:function(c,e,g){if(1&c&&n.Suo(g,d.jx,4),2&c){let l;n.iGM(l=n.CRH())&&(e.templates=l)}},hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[n.lbL.HasDecoratorInputTransform,"disabled","disabled",n.VuI],style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:[n.lbL.HasDecoratorInputTransform,"tabindex","tabindex",n.Cb_],iconPos:"iconPos",autofocus:[n.lbL.HasDecoratorInputTransform,"autofocus","autofocus",n.VuI]},outputs:{onChange:"onChange"},features:[n._Bn([L]),n.Xq5],decls:4,vars:17,consts:[["role","switch","pRipple","","pAutoFocus","",3,"click","keydown","ngClass","ngStyle","autofocus"],[3,"class","ngClass"],["class","p-button-label",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-button-label"]],template:function(c,e){1&c&&(n.TgZ(0,"div",0),n.NdJ("click",function(l){return e.toggle(l)})("keydown",function(l){return e.onKeyDown(l)}),n.YNc(1,t,1,1,"span",1)(2,_,1,4)(3,T,2,2,"span",2),n.qZA()),2&c&&(n.Tol(e.styleClass),n.Q6J("ngClass",n.kEZ(13,P,e.onIcon&&e.offIcon&&!e.hasOnLabel&&!e.hasOffLabel,e.checked,e.disabled))("ngStyle",e.style)("autofocus",e.autofocus),n.uIk("tabindex",e.disabled?null:e.tabindex)("aria-checked",e.checked)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("data-pc-name","togglebutton")("data-pc-section","root"),n.xp6(),n.um2(1,e.iconTemplate?2:1),n.xp6(2),n.Q6J("ngIf",e.onLabel||e.offLabel))},dependencies:[p.mk,p.O5,p.tP,p.PC,f.H,b.P],styles:['@layer primeng{.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default;pointer-events:none}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%]{position:relative;z-index:1}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover, .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover{border-right:0 none}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%]{border-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right][_ngcontent-%COMP%]   spinnericon[_ngcontent-%COMP%]{order:1}}'],changeDetection:0})}return i})(),I=(()=>{class i{static \u0275fac=function(c){return new(c||i)};static \u0275mod=n.oAB({type:i});static \u0275inj=n.cJS({imports:[p.ez,f.T,d.m8,b.E,d.m8]})}return i})()}}]);